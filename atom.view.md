<!-- Do not edit this file. It is automatically generated by API Documenter. -->

[Home](./index.md) &gt; [@thi.ng/atom](./atom.md) &gt; [View](./atom.view.md)

## View class

This class implements readonly access to a deeply nested value with in an Atom/Cursor. An optional transformer function can be supplied at creation time to produce a derived/materialized view of the actual value held in the atom.

<b>Signature:</b>

```typescript
export declare class View<T> implements IView<T> 
```

## Remarks

Views can be created directly or via the [IViewable.addView()](./atom.iviewable.addview.md) method of the parent state. Views can be [IDeref.deref()](./api.ideref.deref.md)<!-- -->'d like atoms and polled for value changes using [IView.changed()](./atom.iview.changed.md)<!-- -->. The transformer is only applied once per value change and its result cached until the next change.

If the optional `lazy` is true (default), the transformer will only be executed with the first [IDeref.deref()](./api.ideref.deref.md) after each value change. If `lazy` is false, the transformer function will be executed immediately after a value change occurred and so can be used like a watch which only triggers if there was an actual value change (in contrast to normal watches, which execute with each update, regardless of value change).

Related, the actual value change predicate can be customized. If not given, the default [equiv](./equiv.equiv.md) will be used.

## Example


```ts
a = new Atom({a: {b: 1}});
v = a.addView("a.b", (x) => x * 10);

v.deref()
// 10

// update atom state
a.swap((state) => setIn(state, "a.b", 2));
// {a: {b: 2}}

v.changed()
// true
v.deref()
// 20

v.release()
// remove view from parent state

```

## Constructors

|  Constructor | Modifiers | Description |
|  --- | --- | --- |
|  [(constructor)(parent, path, tx, lazy, equiv)](./atom.view._constructor_.md) |  | Constructs a new instance of the <code>View</code> class |

## Properties

|  Property | Modifiers | Type | Description |
|  --- | --- | --- | --- |
|  [id](./atom.view.id.md) |  | <code>string</code> |  |
|  [isDirty](./atom.view.isdirty.md) |  | <code>boolean</code> |  |
|  [isLazy](./atom.view.islazy.md) |  | <code>boolean</code> |  |
|  [parent](./atom.view.parent.md) |  | <code>ReadonlyAtom&lt;any&gt;</code> |  |
|  [path](./atom.view.path.md) |  | <code>PropertyKey[]</code> |  |
|  [state](./atom.view.state.md) |  | <code>T &#124; undefined</code> |  |
|  [tx](./atom.view.tx.md) |  | <code>ViewTransform&lt;T&gt;</code> |  |
|  [unprocessed](./atom.view.unprocessed.md) |  | <code>any</code> |  |
|  [value](./atom.view.value.md) |  | <code>T &#124; undefined</code> |  |

## Methods

|  Method | Modifiers | Description |
|  --- | --- | --- |
|  [changed()](./atom.view.changed.md) |  | Returns true, if the view's value has changed since last [IDeref.deref()](./api.ideref.deref.md)<!-- -->. |
|  [deref()](./atom.view.deref.md) |  | Returns view's value. If the view has a transformer, the transformed value is returned. The transformer is only run once per value change. |
|  [release()](./atom.view.release.md) |  | Disconnects this view from parent state, marks itself dirty/changed and sets its unprocessed raw value to <code>undefined</code>. |
|  [view()](./atom.view.view.md) |  | Like [IDeref.deref()](./api.ideref.deref.md)<!-- -->, but doesn't update view's cached state and dirty flag if value has changed. |

