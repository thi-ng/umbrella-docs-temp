<!-- Do not edit this file. It is automatically generated by API Documenter. -->

[Home](./index.md) &gt; [@thi.ng/fsm](./fsm.md)

## fsm package

## Enumerations

|  Enumeration | Description |
|  --- | --- |
|  [Match](./fsm.match.md) |  |

## Functions

|  Function | Description |
|  --- | --- |
|  [fsm(states, ctx, initial, update)](./fsm.fsm.md) | Finite-state machine transducer / iterator with support for single lookahead value. Takes an object of <code>states</code> and their matchers, an arbitrary context object and an <code>initial</code> state ID (default: "start").<!-- -->The returned transducer consumes inputs of type <code>T</code> and produces results of type <code>R</code>. The results are produced by callbacks of the given state matchers. Each can produce any number of values. If a callback returns a result wrapped w/ [reduced](./transducers.reduced.md)<!-- -->, the FSM causes early termination of the overall transducer pipeline. Failed state callbacks too can produce outputs, but will afterwards terminate the FSM.<!-- -->An [IllegalStateError](./errors.illegalstateerror.md) will be thrown if a transition to an undefined state ID occurs.<!-- -->The optional <code>update</code> function will be invoked for each input prior to executing the currently active state matcher. It is intended to update the context object (e.g. to update input location info for generating error messages).<!-- -->If the optional <code>src</code> iterable is given, the function returns a transforming iterator of the FSM results. |
|  [fsm(states, ctx, initial, update, src)](./fsm.fsm_1.md) |  |

## Interfaces

|  Interface | Description |
|  --- | --- |
|  [MatchResult](./fsm.matchresult.md) |  |

## Variables

|  Variable | Description |
|  --- | --- |
|  [alpha](./fsm.alpha.md) | Matcher for single A-Z or a-z characters. |
|  [alphaNum](./fsm.alphanum.md) | Combination of [digit](./fsm.digit.md) and [alpha](./fsm.alpha.md)<!-- -->. |
|  [alts](./fsm.alts.md) | Returns a composed matcher which applies inputs to all given child matchers (<code>opts</code>) until either all have failed or one of them returns a full match. If successful, calls <code>callback</code> with the context, the child matcher's result and an array of all processed inputs thus far. The result of <code>alts</code> is the result of this callback (else undefined).<!-- -->Note: Matchers are always processed in reverse order, therefore attention must be paid to the given ordering of supplied matchers.<!-- -->If none of the matchers succeed the optional <code>fallback</code> callback will be executed and given a chance to produce a state transition. It too will be given an array of all processed inputs thus far. |
|  [altsLit](./fsm.altslit.md) |  |
|  [always](./fsm.always.md) | Returns a matcher which always succeeds (produces a <code>Match.FULL</code> result) for any given input. Use <code>never()</code> for the opposite effect. |
|  [digit](./fsm.digit.md) | Matcher for single digit characters (0-9). |
|  [lit](./fsm.lit.md) |  |
|  [never](./fsm.never.md) | Returns a matcher which always fails (produces a <code>Match.FAIL</code> result) for any given input. Use [always](./fsm.always.md) for the opposite effect. |
|  [not](./fsm.not.md) | Takes an existing matcher <code>match</code> and returns new matcher which inverts the result of <code>match</code>. I.e. If <code>match</code> returns <code>Match.FULL</code>, the new matcher returns <code>Match.FAIL</code> and vice versa. <code>Match.PARTIAL</code> results remain as is. |
|  [range](./fsm.range.md) | Returns a single input matcher which returns <code>Match.FULL</code> if the input is within the closed interval given by \[<code>min</code>,<code>max</code>\]. |
|  [repeat](./fsm.repeat.md) | Takes a matcher and <code>min</code> / <code>max</code> repeats. Returns new matcher which only returns <code>Match.FULL</code> if <code>match</code> succeeded at least <code>min</code> times or once <code>max</code> repetitions have been found. |
|  [RES\_FAIL](./fsm.res_fail.md) |  |
|  [RES\_PARTIAL](./fsm.res_partial.md) |  |
|  [seq](./fsm.seq.md) | Takes an array of matchers and returns new matcher which applies them in sequence. If any of the given matchers fails, returns <code>Match.FAIL</code>. |
|  [str](./fsm.str.md) | String-only version of [seq](./fsm.seq.md)<!-- -->. Returns <code>Match.FULL</code> once the entire given string could be matched. Unless <code>collect</code> is true (default: false), only matches given string and does not collect input. Therefore then also only passes an empty string to <code>fail</code> callback. If <code>collect</code> is true, the failed callback will be called with the collected input. |
|  [until](./fsm.until.md) | Generic array version of [untilStr](./fsm.untilstr.md)<!-- -->. |
|  [untilStr](./fsm.untilstr.md) | String version of [until](./fsm.until.md)<!-- -->. Returns a matcher which consumes input until the given string could be matched. If successful, calls <code>callback</code> with string recorded so far (excluding the matched terminator string) and returns <code>Match.FULL</code> result. Else <code>Match.PARTIAL</code>. |
|  [whitespace](./fsm.whitespace.md) | Matcher for single whitespace characters. |

## Type Aliases

|  Type Alias | Description |
|  --- | --- |
|  [AltCallback](./fsm.altcallback.md) |  |
|  [AltFallback](./fsm.altfallback.md) |  |
|  [LitCallback](./fsm.litcallback.md) |  |
|  [Matcher](./fsm.matcher.md) |  |
|  [MatcherInst](./fsm.matcherinst.md) |  |
|  [ResultBody](./fsm.resultbody.md) |  |
|  [SeqCallback](./fsm.seqcallback.md) |  |

