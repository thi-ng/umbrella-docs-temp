<!-- Do not edit this file. It is automatically generated by API Documenter. -->

[Home](./index.md) &gt; [@thi.ng/hdom](./hdom.md) &gt; [HDOMImplementation](./hdom.hdomimplementation.md) &gt; [diffTree](./hdom.hdomimplementation.difftree.md)

## HDOMImplementation.diffTree() method

Takes an `HDOMOpts` options object, a `parent` element and two normalized hiccup trees, `prev` and `curr`<!-- -->. Recursively computes diff between both trees and applies any necessary changes to reflect `curr` tree, based on the differences to `prev`<!-- -->, in target (browser DOM when using the `DEFAULT_IMPL` implementation).

All target modification operations are delegated to the given implementation. `diffTree()` merely manages which elements or attributes need to be created, updated or removed and this NEVER involves any form of tracking of the actual underlying target data structure (e.g. the real browser DOM). hdom in general and `diffTree()` specifically are stateless. The only state available is implicitly defined by the two trees given (prev / curr).

Implementations MUST check for the presence of the `__impl` control attribute on each branch. If present AND different than the current implementation, the latter MUST delegate to the `diffTree()` method of the specified implementation and not descent into that branch further itself.

Furthermore, if (and only if) an element has the `__diff` control attribute set to `false`<!-- -->, then:

1) Computing the difference between old &amp; new branch MUST be skipped 2) The implementation MUST recursively call any `release` life cycle methods present anywhere in the current `prev` tree (branch). The recursive release process itself is implemented by the exported `releaseDeep()` function in `diff.ts`<!-- -->. Custom implementations are encouraged to reuse this, since that function also takes care of handling the `__release` attrib: if the attrib is present and set to false, `releaseDeep()` will not descend into the branch any further. 3) Call the current implementation's `replaceChild()` method to replace the old element / branch with the new one.

<b>Signature:</b>

```typescript
diffTree(opts: Partial<HDOMOpts>, parent: T, prev: any[], curr: any[], child?: number): void;
```

## Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  opts | <code>Partial&lt;HDOMOpts&gt;</code> |  |
|  parent | <code>T</code> |  |
|  prev | <code>any[]</code> |  |
|  curr | <code>any[]</code> |  |
|  child | <code>number</code> |  |

<b>Returns:</b>

`void`

