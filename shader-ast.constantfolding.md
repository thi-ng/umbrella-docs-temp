<!-- Do not edit this file. It is automatically generated by API Documenter. -->

[Home](./index.md) &gt; [@thi.ng/shader-ast](./shader-ast.md) &gt; [constantFolding](./shader-ast.constantfolding.md)

## constantFolding variable

Traverses given AST and applies constant folding optimizations where possible. Returns possibly updated tree (mutates original). Currently, only scalar operations are supported / considered.

<b>Signature:</b>

```typescript
constantFolding: (tree: Term<any>) => Term<any>
```

## Example


```ts
const foo = defn("float", "foo", ["float"], (x) => [
  ret(mul(x, add(neg(float(10)), float(42))))]
)

const prog = scope([foo, foo(add(float(1), float(2)))], true);

// serialized (GLSL)
glsl(prog);

// float foo(in float _sym0) {
//   return (_sym0 * (-10.0 + 42.0));
// };
// foo((1.0 + 2.0));

// with constant folding
glsl(constantFolding(prog))

// float foo(in float _sym0) {
//   return (_sym0 * 32.0);
// };
// foo(3.0);

```

