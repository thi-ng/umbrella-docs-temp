<!-- Do not edit this file. It is automatically generated by API Documenter. -->

[Home](./index.md) &gt; [@thi.ng/rstream](./rstream.md) &gt; [ForkJoinOpts](./rstream.forkjoinopts.md)

## ForkJoinOpts interface

<b>Signature:</b>

```typescript
export interface ForkJoinOpts<IN, MSG, RES, OUT> extends Partial<CommonOpts> 
```

## Properties

|  Property | Type | Description |
|  --- | --- | --- |
|  [backPressure](./rstream.forkjoinopts.backpressure.md) | <code>number</code> | If greater than 0, then each labeled input will cache upto the stated number of input values, even if other inputs have not yet produced new values. Once the limit is reached, <code>partitionSync()</code> will throw an <code>IllegalState</code> error.<!-- -->Enabling this option will cause the same behavior as if <code>reset</code> is enabled (regardless of the actual configured <code>reset</code> setting). I.e. new results are only produced when ALL required inputs have available values... |
|  [fork](./rstream.forkjoinopts.fork.md) | <code>Fn3&lt;number, number, IN, MSG&gt;</code> | Transformation function prepare (e.g. chunk) work for a single worker. Receives worker <code>id</code> \[0 .. numWorkers), <code>numWorkers</code> and current input value to be processed. Only the results of this function are sent to the worker and therefore the function must return a type compatible with the configured worker instance.<!-- -->For example, such a function might extract slices from a large input array, one per worker. The given worker ID and worker count can be used to create non-overlapping chunks to evenly spread the workload...<!-- -->Also see: [forkBuffer](./rstream.forkbuffer.md) |
|  [interrupt](./rstream.forkjoinopts.interrupt.md) | <code>boolean</code> | If true, the workers will be terminated and restarted for each new input stream value. This is useful to avoid executing extraneous work and ensures only the most rececent stream value is being processed.<!-- -->IMPORTANT: Please note that <code>forkJoin</code> does NOT handle backpressure at all. If <code>interrupt</code> is false, it's the user's responsibility to ensure that the input stream does NOT operate on a higher frequency than workers can produce results or else undefined behavior WILL occur!<!-- -->Default: false |
|  [join](./rstream.forkjoinopts.join.md) | <code>Fn&lt;RES[], OUT&gt;</code> | Join function. Receives array of worker results (in worker ID order) and is responsible to transform these into the final result / output type. |
|  [numWorkers](./rstream.forkjoinopts.numworkers.md) | <code>number</code> | Optional max number of workers to use. Defaults to <code>navigator.hardwareConcurrency</code> (or if unavailable, then 4 as fallback). If setting this higher, be aware of browser limits and potential resulting crashes!<!-- -->If using multiple <code>forkJoin</code>s concurrently, it's the user's responsibility to ensure that the total number of workers won't exceed the browser limit (Chome/FF \~20). |
|  [src](./rstream.forkjoinopts.src.md) | <code>ITransformable&lt;IN&gt;</code> | Input stream to attach to obtain work items from. |
|  [terminate](./rstream.forkjoinopts.terminate.md) | <code>number</code> | If given and greater than zero, all workers will be terminated after given period (in millis) after the parent stream is done. If used, this value MUST be higher than the expected processing time of the worker jobs, in order to guarantee that the last values are processed fully.<!-- -->Default: 1000 |
|  [transferables](./rstream.forkjoinopts.transferables.md) | <code>Fn&lt;MSG, any[]&gt;</code> | Optional function to extract transferables from <code>fork</code> result values (i.e. payloads sent to each worker), e.g. ArrayBuffers. See: https://developer.mozilla.org/en-US/docs/Web/API/Worker/postMessage |
|  [worker](./rstream.forkjoinopts.worker.md) | <code>string &#124; Worker &#124; Blob</code> | An existing <code>Worker</code> instance, a JS source code <code>Blob</code> or an URL string. In the latter two cases, a worker is created automatically using <code>makeWorker()</code>. |

