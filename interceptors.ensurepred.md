<!-- Do not edit this file. It is automatically generated by API Documenter. -->

[Home](./index.md) &gt; [@thi.ng/interceptors](./interceptors.md) &gt; [ensurePred](./interceptors.ensurepred.md)

## ensurePred variable

Higher-order interceptor for validation purposes. Takes a predicate function and an optional interceptor function, which will only be called if the predicate fails for a given event. By default the `FX_CANCEL` side effect is triggered if the predicate failed, thus ensuring the actual event handler for the failed event will not be executed anymore. However, this can be overridden using the error interceptor's result, which is merged into the result of this interceptor.

The error interceptor can return any number of other side effects and so be used to dispatch alternative events instead, for example:

```
// this interceptor will cause cancellation of current event
// and trigger an "error" event instead
ensurePred(
  // a dummy predicate which always fails
  () => false
  // error interceptor fn
  () => ({[FX_DISPATCH_NOW]: ["error", "reason"]})
)

```
Note: For this interceptor to work as expected, it needs to be provided BEFORE the main handler in the interceptor list for a given event, i.e.

```
[
   ensurePred((state, e) => false),
   // actual event handler
   (state, e) => console.log("no one never calls me")
]

```

<b>Signature:</b>

```typescript
ensurePred: (pred: InterceptorPredicate, err?: InterceptorFn | undefined) => InterceptorFn
```
